### 软件质量管理

安杰莉卡·德·安东尼奥

## 课程大纲

- 第1部分：软件质量导论
- 第2部分：软件质量控制活动
- 第3部分：质量度量
- 第4部分：质量管理与质量体系
- 第5部分：软件质量保证活动
- 第6部分：软件配置管理

## 什么是质量管理体系

- ISO 9000标准
- 质量管理体系评估
- 质量管理的7种工具
- 质量成本

### 质量管理体系

- **质量管理**：
  - 组织层面的管理活动，通过质量体系体现。
- **质量体系**：
  - 一组协调的活动，用于指导和控制组织，以持续提升其绩效的有效性和效率。
  - 核心是定义能够生产高质量产品和服务的流程，而非事后检测缺陷（强调预防而非纠正）。

**PDCA循环**：

- 计划（Plan）- 执行（Do）- 检查（Check）- 处理（Act），持续改进。

### 质量体系定义内容：

- 质量方针和目标
- 组织结构
- 任务与职责分配
- 流程和程序
- 质量相关活动在流程模型中的整合

## ISO 9000标准

- **定义**：
  - 一系列国际标准，用于确保组织的质量管理体系有效运行。
  - 符合ISO 9000标准被认为能保证公司交付高质量产品和服务。
  - 全球超过170个国家的百万家企业通过ISO 9001认证。

### 组成部分：

- ISO 9000:2015 《质量管理体系——基础和术语》
- ISO 9001:2015 《质量管理体系——要求》
- **行业特定标准**：
  - ISO/IEC 90003:2014 《软件工程（针对ISO 9001:2008）》
  - ISO 9004:2009 《组织持续成功管理——一种质量管理方法》

### 基于流程的质量管理体系

- **四大流程领域**：

  - 管理职责
  - 资源管理
  - 产品实现
  - 测量、分析和改进
- **核心逻辑**：

  - 通过流程优化实现质量持续改进，满足客户需求。
  - 以质量管理原则（ISO 9000）为基础，强调信息流和增值活动。

### ISO 9001标准演进

| **对比项**       | **2008旧版**        | **2015新版**             |
| ---------------------- | ------------------------- | ------------------------------ |
| **质量管理原则** | 8项                       | 7项（客户聚焦、领导作用等）    |
| **条款数量**     | 8个条款                   | 10个条款（如新增“组织环境”） |
| **强制文件**     | 6个强制程序、26个强制记录 | 10个强制文件（非仅限程序）     |
| **质量手册要求** | 强制                      | 非强制                         |

### 质量管理原则（ISO 9001:2015）

1. 以客户为关注焦点
2. 领导作用
3. 全员积极参与
4. 过程方法
5. 改进
6. 循证决策
7. 关系管理

### 质量体系文件要求（ISO 9001:2015）

1. **质量管理体系范围（条款4.3）**
   - 覆盖的业务范围、物理地点、产品/服务，以及对ISO 9001要求的删减及理由。
2. **质量方针（条款5.2）**
   - 组织目标的正式声明，聚焦客户满意度，用于指导商业决策。
     - *示例*：柏林包装公司的质量方针强调通过包装解决方案提升客户收入并持续改进流程。
3. **质量目标（条款6.2）**
   - 将质量方针转化为可执行的改进目标，如“一年内将准时交付率从90%提升至95%”。
4. **供应商评估标准（条款8.4.1）**
   - 定义选择和评估供应商的准则。

### 强制记录要求

- 监测设备校准记录（条款7.1.5.1）
- 培训、技能和资质记录（条款7.2）
- 产品/服务需求评审记录（条款8.2.3.2）
- 设计开发输入/输出记录（条款8.3）
- 不合格输出记录（条款8.7.2）
- 内部审核和管理评审结果（条款9.2, 9.3）

## 质量管理体系评估

### 评估类型：

1. **第一方评估**：内部审核，确保实际操作符合文件化程序。
2. **第二方评估**：外部客户对供应商的评估（基于自身或国际标准）。
3. **第三方评估**：独立机构认证，如ISO 9001审核。

### 内部审核与评审重点：

- 审核结果
- 客户反馈
- 流程与产品合规性
- 预防和纠正措施状态
- 可能影响质量体系的变更

## 质量管理的7种工具（石川馨“旧七工具”）

1. **直方图**：展示数据分布
2. **控制图**：监测流程稳定性
3. **帕累托分析**：识别关键少数问题
4. **因果图**：分析问题根源
5. **检查表**：系统化收集数据
6. **散点图**：分析变量相关性
7. **分层法**：分类整理数据

## 质量成本（COQ）

### 克罗斯比模型

- **符合成本**：预防成本（培训、流程优化） + 评估成本（测试、审查）。
- **不符合成本**：内部失败成本（发布前返工） + 外部失败成本（保修、声誉损失）。

### 费根鲍姆PAF模型

| **成本类型** | **定义**       | **示例**         |
| ------------------ | -------------------- | ---------------------- |
| 预防成本           | 防止缺陷的活动成本   | 培训、流程设计         |
| 评估成本           | 检测缺陷的成本       | 代码审查、测试         |
| 内部失败成本       | 发布前修复缺陷的成本 | 需求返工、代码返工     |
| 外部失败成本       | 发布后修复缺陷的成本 | 客户投诉处理、产品召回 |

### 经济质量水平

- **传统观点**：存在最优质量成本平衡点，此时预防+评估成本与失败成本之和最小。
- **现代观点**：通过持续改进（如六西格玛）趋近零缺陷，长期降低总成本。

### 六西格玛（Six Sigma）

- **目标**：通过减少流程变异实现近乎零缺陷，衡量单位为**百万机会缺陷数（DPMO）**。
- **工具**：DMAIC（定义、测量、分析、改进、控制）用于现有流程优化，DFSS（六西格玛设计）用于新流程设计。
- **黑带（Black Belts）**：内部技术专家，精通统计工具和流程改进。

## 质量成本相关概念

- **机会成本**：因缺陷导致的潜在收益损失（如客户流失、产能利用率不足）。
- **田口损失函数**：质量特性偏离目标值即产生隐藏成本，即使在规格范围内。
- **流程成本模型**：聚焦流程而非产品，通过流程图识别增值（VA）与非增值（NVA）活动，优化流程效率。

## 知识测试

**问题**：以下哪项属于外部失败成本？

- **A. 因软件交付延迟支付的违约金**
- **B. 代码审查投入的工作量**
- **C. 系统测试中修复缺陷的时间**
- **D. 客户系统一年内的停机时间**
  **答案**：A（外部失败成本涉及交付后客户相关损失，如违约金；D为间接影响，通常计入机会成本）。

### 质量成本（COQ）克罗斯比模型

任何旨在提高质量的认真尝试都必须考虑相关成本。对克罗斯比而言，质量=符合要求。

- **符合成本**：为避免质量不佳而付出的代价（包括预防成本，如培训，以及质量评估成本）。
- **不符合成本**：因产品和服务失败导致的质量不佳成本（如返工、退货、客户流失、民事责任）。

### P-A-F模型（费根鲍姆模型）

- **预防成本**：与确保过程提供高质量产品和服务的行动相关的成本，例如流程设计、员工培训。
- **评估成本**：与测量过程所达到的质量水平相关的成本，例如代码审查、测试执行。
- **失败成本**：在产品和服务交付给客户之前（内部）或之后（外部）为纠正质量问题而产生的成本，例如发布前的代码返工或交付后的保修服务。

### P-A-F模型假设

- 对预防和评估活动的投资将降低失败成本。
- 对预防活动的进一步投资将降低评估成本。
- 存在一个最优经济质量水平，可使质量总成本最小化。

### 经济质量水平

- **传统观点**：质量总成本（Total CoQ）由失败成本和预防加评估成本组成。随着质量水平从0%（100%缺陷）提高到100%（0%缺陷），失败成本下降，预防加评估成本上升，存在一个最优质量水平（OEQ）使总成本最低。
- **现代观点**：通过持续改进降低成本，随着过程性能提升，失败成本持续下降，预防和评估成本也可因更好的过程绩效而显著降低。

### 两种冲突的观点

- **P-A-F方法**：最优质量水平是零缺陷。虽然永远无法完全消除评估和预防成本，但随着过程性能的提高，它们的降低幅度会很显著。一次性把事情做对，随着过程的改善，优质成本的增加可以得到缓解。
- **六西格玛观点**：公司的绩效通过业务流程的西格玛水平来衡量。缺陷是任何未满足客户要求的情况，缺陷测量以每百万机会缺陷数（DPMO）为单位。过程西格玛是根据DPMO通过六西格玛表确定的，过程西格玛目标通常设为6.0，对应的DPMO为3.4。在非制造业务中，目标通常设定为四西格玛或五西格玛。

### 计算过程西格玛

- 公司的绩效通过其业务流程的西格玛水平来衡量。
- 缺陷是指任何未满足客户要求的情况。
- 缺陷测量以每百万机会缺陷数（DPMO）为单位。
- 确定DPMO后，可使用六西格玛表找到过程西格玛。

### 六西格玛

- 六西格玛是一种专注于通过管理过程变异和减少企业流程中的缺陷来实现突破性改进的方法。
- 目标是交付几乎零缺陷的一致服务和/或产品。
- 西格玛是一个统计术语，用于衡量过程与过程均值或目标的偏差。如果能够测量导致缺陷的过程变异（与均值或目标的不可接受偏差），就可以系统地管理变异以消除缺陷。

### 六西格玛工具

- 六西格玛采用了一些经过验证的方法，而全面质量管理（TQM）包含400多种工具和技术，例如：
  - 现场研究（Gemba Study）
  - 标杆管理（Benchmarking）
  - 质量功能展开（QFD）
  - 关键质量特性（CTQ）。

### 六西格玛黑带

公司内部的一小部分技术领导者，他们在这些技术的应用方面接受过高水平的培训，熟练掌握相关技能。

### 六西格玛应用场景

- **已有流程**：现有流程运行“尚可”，使用DMAIC方法：
  - **定义（Define）**：根据客户要求或客户之声（VOC），以关键质量参数（关键质量特性或关键生产参数）定义流程目标。
  - **测量（Measure）**：根据目标测量当前流程绩效。
  - **分析（Analyze）**：分析当前情况，找出变异和缺陷的原因。
  - **改进（Improve）**：通过系统地减少变异和消除缺陷来改进流程。
  - **控制（Control）**：控制流程未来的绩效。
- **无流程情况**：重点在于使用六西格玛设计（DFSS）进行流程设计，通常需要IDOV方法：
  - **识别（Identify）**：根据关键参数、行业和竞争对手基准、VOC确定流程目标。
  - **设计（Design）**：列举潜在解决方案并选择最佳方案。
  - **优化（Optimize）**：使用先进的统计建模和仿真技术以及设计优化来提升性能。
  - **验证（Validate）**：验证设计是否符合流程目标。

### 质量成本（COQ）分类

- **内部失败成本**：在产品和服务交付给外部客户之前发现的缺陷所导致的成本，例如需求返工、设计返工。
- **外部失败成本**：在产品和服务交付给外部客户之后发现的缺陷所导致的成本，这会导致客户不满，例如保修成本、召回成本。

### 知识测试

**问题**：以下哪项是计算外部失败导致的质量成本因素的方法？

- **A. 计算因软件产品交付延迟而必须支付给客户的违约金总额**
- **B. 测量进行代码审查所花费的工作量**
- **C. 测量在系统测试期间修复缺陷所花费的时间**
- **D. 测量客户系统一年内的停机时间**
  **答案**：A。外部失败成本涉及交付后客户相关的直接损失，如违约金；D属于间接的机会成本，通常不计入直接质量成本。

### 机会成本、隐藏成本和无形的成本

- **有形成本**：P-A-F模型中的各个组成部分，如预防成本、评估成本等。
- **无形的成本或机会成本（隐藏和间接成本）**：因产品缺陷而流失的客户、已安装产能或资源的利用不足、消除缺陷期间的停机时间。
- **田口损失函数**：质量特性的目标值出现任何偏差都会导致隐藏的质量成本，即使在规格范围内的微小偏差也会带来损失。
- **机会成本**：选择一个方案而放弃其他方案所损失的潜在收益，例如因缺陷导致的市场份额损失。
